import {
  dedupingMixin
} from "./chunk-NZ6RMXB7.js";

// node_modules/@vaadin/component-base/src/focus-mixin.js
var keyboardActive = false;
window.addEventListener("keydown", () => {
  keyboardActive = true;
}, { capture: true });
window.addEventListener("mousedown", () => {
  keyboardActive = false;
}, { capture: true });
var FocusMixin = dedupingMixin((superclass) => class FocusMixinClass extends superclass {
  get _keyboardActive() {
    return keyboardActive;
  }
  ready() {
    this.addEventListener("focusin", (e) => {
      if (this._shouldSetFocus(e)) {
        this._setFocused(true);
      }
    });
    this.addEventListener("focusout", (e) => {
      if (this._shouldRemoveFocus(e)) {
        this._setFocused(false);
      }
    });
    super.ready();
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    if (this.hasAttribute("focused")) {
      this._setFocused(false);
    }
  }
  _setFocused(focused) {
    this.toggleAttribute("focused", focused);
    this.toggleAttribute("focus-ring", focused && this._keyboardActive);
  }
  _shouldSetFocus(_event) {
    return true;
  }
  _shouldRemoveFocus(_event) {
    return true;
  }
});

export {
  FocusMixin
};
/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */
//# sourceMappingURL=chunk-Q3ITW52D.js.map
