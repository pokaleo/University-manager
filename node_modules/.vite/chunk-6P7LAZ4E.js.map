{
  "version": 3,
  "sources": ["../@vaadin/field-base/src/slot-styles-mixin.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2021 - 2022 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\nconst stylesMap = new WeakMap();\n\n/**\n * Get all the styles inserted into root.\n * @param {DocumentOrShadowRoot} root\n * @return {Set<string>}\n */\nfunction getRootStyles(root) {\n  if (!stylesMap.has(root)) {\n    stylesMap.set(root, new Set());\n  }\n\n  return stylesMap.get(root);\n}\n\n/**\n * Insert styles into the root.\n * @param {string} styles\n * @param {DocumentOrShadowRoot} root\n */\nfunction insertStyles(styles, root) {\n  const style = document.createElement('style');\n  style.textContent = styles;\n\n  if (root === document) {\n    document.head.appendChild(style);\n  } else {\n    root.insertBefore(style, root.firstChild);\n  }\n}\n\n/**\n * Mixin to insert styles into the outer scope to handle slotted components.\n * This is useful e.g. to hide native `<input type=\"number\">` controls.\n *\n * @polymerMixin\n */\nexport const SlotStylesMixin = dedupingMixin(\n  (superclass) =>\n    class SlotStylesMixinClass extends superclass {\n      /**\n       * List of styles to insert into root.\n       * @protected\n       */\n      get slotStyles() {\n        return {};\n      }\n\n      /** @protected */\n      connectedCallback() {\n        super.connectedCallback();\n\n        this.__applySlotStyles();\n      }\n\n      /** @private */\n      __applySlotStyles() {\n        const root = this.getRootNode();\n        const rootStyles = getRootStyles(root);\n\n        this.slotStyles.forEach((styles) => {\n          if (!rootStyles.has(styles)) {\n            insertStyles(styles, root);\n            rootStyles.add(styles);\n          }\n        });\n      }\n    }\n);\n"],
  "mappings": ";;;;;AAAA,AAOA,IAAM,YAAY,oBAAI,QAAQ;AAO9B,uBAAuB,MAAM;AAC3B,MAAI,CAAC,UAAU,IAAI,IAAI,GAAG;AACxB,cAAU,IAAI,MAAM,oBAAI,IAAI,CAAC;AAAA,EAC/B;AAEA,SAAO,UAAU,IAAI,IAAI;AAC3B;AAOA,sBAAsB,QAAQ,MAAM;AAClC,QAAM,QAAQ,SAAS,cAAc,OAAO;AAC5C,QAAM,cAAc;AAEpB,MAAI,SAAS,UAAU;AACrB,aAAS,KAAK,YAAY,KAAK;AAAA,EACjC,OAAO;AACL,SAAK,aAAa,OAAO,KAAK,UAAU;AAAA,EAC1C;AACF;AAQO,IAAM,kBAAkB,cAC7B,CAAC,eACC,MAAM,6BAA6B,WAAW;AAAA,MAKxC,aAAa;AACf,WAAO,CAAC;AAAA,EACV;AAAA,EAGA,oBAAoB;AAClB,UAAM,kBAAkB;AAExB,SAAK,kBAAkB;AAAA,EACzB;AAAA,EAGA,oBAAoB;AAClB,UAAM,OAAO,KAAK,YAAY;AAC9B,UAAM,aAAa,cAAc,IAAI;AAErC,SAAK,WAAW,QAAQ,CAAC,WAAW;AAClC,UAAI,CAAC,WAAW,IAAI,MAAM,GAAG;AAC3B,qBAAa,QAAQ,IAAI;AACzB,mBAAW,IAAI,MAAM;AAAA,MACvB;AAAA,IACF,CAAC;AAAA,EACH;AACF,CACJ;",
  "names": []
}
